{{> "systems/celestus/templates/actor/parts/actor-currency.hbs"}}
<div class="item-section">
    <div class='item flexrow items-header'>
        <div class='item-name'>Armor</div>
        <div class='item-formula'><div>Value</div></div>
        <div class='item-controls'>
            <a class='item-control item-create' title='{{localize "DOCUMENT.Create" type=' Item'}}' data-type='armor'>
                <i class='fas fa-plus'></i>
                {{localize 'DOCUMENT.New' type='item'}}
            </a>
        </div>
    </div>
    <ol class='items-list'>
        {{#each actor.system.armor as |type|}}
        {{#each type as |item type|}}
        <li class='item flexrow' data-item-id='{{item._id}}'>
            <div class='item-name'>
                <div class='item-image'>
                    <a class='rollable' data-roll-type='item'>
                        <img src='{{item.img}}' title='{{item.name}}' width='24' height='24' />
                    </a>
                </div>
                <h4>{{item.name}}</h4>
            </div>
            <div class='item-formula item-prop'>
                <div class="part">
                    {{item.system.value.phys}} <i class="icon-edged-shield"></i>
                </div>
                <div class="divider">
                    |
                </div>
                <div class="part">
                    <i class="icon-magic-shield"></i> {{item.system.value.mag}} 
                </div>
            </div>
            <div class='item-controls'>
                <a class='item-control item-equip' title='equip/unequip'>
                    {{#if item.system.equipped}}
                    <i class="fa-solid fa-shield-halved"></i>
                    {{else}}
                    <i class="fa-solid fa-shield-halved" style="opacity: 50%"></i>
                    {{/if}}
                </a>
                <a class='item-control item-edit' title='edit'>
                    <i class='fas fa-edit'></i>
                </a>
                <a class='item-control item-delete' title='delete'>
                    <i class='fas fa-trash'></i>
                </a>
                </a>
            </div>
        </li>
        {{/each}}
        {{/each}}
    </ol>
</div>
<div class="item-section">
    <div class='item flexrow items-header'>
        <div class='item-name'>Weapons</div>
        <div class='item-formula'><div>Value</div></div>
        <div class='item-controls'>
            <a class='item-control item-create' title='{{localize "DOCUMENT.Create" type=' Weapon'}}'
                data-type='weapon'>
                <i class='fas fa-plus'></i>
                {{localize 'DOCUMENT.New' type='item'}}
            </a>
        </div>
    </div>
    <ol class='items-list'>
        {{#each actor.system.weapon as |item|}}
        <li class='item flexrow' data-item-id='{{item._id}}'>
            <div class='item-name'>
                <div class='item-image'>
                    <a class='rollable' data-roll-type='item'>
                        <img src='{{item.img}}' title='{{item.name}}' width='24' height='24' />
                    </a>
                </div>
                <h4>{{item.name}}</h4>
            </div>
            <div class='item-formula item-prop'>
                <div>
                    {{#with (lookup ../config.damageTypes item.system.displayDamage.type) as |damageType|}}
                    <span class="roll-tag {{damageType.text}}-dark">
                        <i class="{{damageType.glyph}}"></i>
                        {{item.system.displayDamage.min}}-{{item.system.displayDamage.max}}
                    </span>
                    {{/with}}
                    {{#each item.system.displayBonusDamage as |damage|}}
                    {{#with (lookup ../../config.damageTypes damage.type) as |damageType|}}
                    <span class="roll-tag {{damage.type}}-dark">
                        <i class="{{damageType.glyph}}"></i>
                        ~{{damage.avg}}
                    </span>
                    {{/with}}
                    {{/each}}
                </div>
            </div>
            <div class='item-controls'>
                <a class='item-control item-equip' title='equip/unequip'>
                    {{#if item.system.equipped}}
                    <i class="fa-solid fa-shield-halved"></i>
                    {{else}}
                    <i class="fa-solid fa-shield-halved" style="opacity: 50%"></i>
                    {{/if}}
                </a>
                <a class='item-control item-edit' title='edit'>
                    <i class='fas fa-edit'></i>
                </a>
                <a class='item-control item-delete' title='delete'>
                    <i class='fas fa-trash'></i>
                </a>
                </a>
            </div>
        </li>
        {{/each}}
    </ol>
</div>
<div class="item-section">
    <div class='item flexrow items-header'>
        <div class='item-name'>Offhands</div>
        <div class='item-formula'><div>Value</div></div>
        <div class='item-controls'>
            <a class='item-control item-create' title='{{localize "DOCUMENT.Create" type=' Weapon'}}'
                data-type='offhand'>
                <i class='fas fa-plus'></i>
                {{localize 'DOCUMENT.New' type='item'}}
            </a>
        </div>
    </div>
    <ol class='items-list'>
        {{#each actor.system.offhand as |item|}}
        <li class='item flexrow' data-item-id='{{item._id}}'>
            <div class='item-name'>
                <div class='item-image'>
                    <a class='rollable' data-roll-type='item'>
                        <img src='{{item.img}}' title='{{item.name}}' width='24' height='24' />
                    </a>
                </div>
                <h4>{{item.name}}</h4>
            </div>
            <div class='item-formula item-prop'>
                <div class="part">
                    {{item.system.value.phys}} <i class="icon-edged-shield"></i>
                </div>
                <div class="divider">
                    |
                </div>
                <div class="part">
                    <i class="icon-magic-shield"></i> {{item.system.value.mag}} 
                </div>
            </div>
            <div class='item-controls'>
                <a class='item-control item-equip' title='equip/unequip'>
                    {{#if item.system.equipped}}
                    <i class="fa-solid fa-shield-halved"></i>
                    {{else}}
                    <i class="fa-solid fa-shield-halved" style="opacity: 50%"></i>
                    {{/if}}
                </a>
                <a class='item-control item-edit' title='edit'>
                    <i class='fas fa-edit'></i>
                </a>
                <a class='item-control item-delete' title='delete'>
                    <i class='fas fa-trash'></i>
                </a>
                </a>
            </div>
        </li>
        {{/each}}
    </ol>
</div>
<div class="item-section">
    <div class='item flexrow items-header'>
        <div class='item-name'>Consumables</div>
        <div class='item-formula'><div>Count</div></div>
        <div class='item-controls'>
            <a class='item-control item-create' title='{{localize "DOCUMENT.Create" type=' Weapon'}}'
                data-type='offhand'>
                <i class='fas fa-plus'></i>
                {{localize 'DOCUMENT.New' type='item'}}
            </a>
        </div>
    </div>
    <ol class='items-list'>
        {{#each actor.system.consumable as |item|}}
        <li class='item flexrow' data-item-id='{{item._id}}'>
            <div class='item-name'>
                <div class='item-image'>
                    <a class='rollable' data-roll-type='item'>
                        <img src='{{item.img}}' title='{{item.name}}' width='24' height='24' />
                    </a>
                </div>
                <h4>{{item.name}}</h4>
            </div>
            <div class='item-formula item-prop'>
                <a class="part item-quant-control" data-action="subtract">
                    <i class="fa-solid fa-minus"></i>
                </a>
                <input class="item-count item-quant-control" type="number" value="{{item.system.quantity}}">
                <a class="part item-quant-control" data-action="add">
                    <i class="fa-solid fa-plus"></i>
                </a>
            </div>
            <div class='item-controls'>
                <a class='item-control item-edit' title='edit'>
                    <i class='fas fa-edit'></i>
                </a>
                <a class='item-control item-delete' title='delete'>
                    <i class='fas fa-trash'></i>
                </a>
                </a>
            </div>
        </li>
        {{/each}}
    </ol>
</div>